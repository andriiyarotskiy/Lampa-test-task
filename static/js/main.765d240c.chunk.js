(this["webpackJsonplampa-test"]=this["webpackJsonplampa-test"]||[]).push([[0],{121:function(t,e,n){},177:function(t,e,n){t.exports=n(288)},182:function(t,e,n){},288:function(t,e,n){"use strict";n.r(e);var a,r=n(0),c=n.n(r),i=n(36),o=n.n(i),u=(n(182),n(11)),l=n(13),s=n(52),m=n.n(s),d=n(73),p=n(28),f=n(143),b=n(16),E=n(316),O=n(315),v=Object(O.a)({setProducts:function(t){return t},totalPrice:function(){},addToBasket:function(t){return{product:t}},downQuantityInBasket:function(t){return t},upQuantityInBasket:function(t){return t},setArrProductsToBasket:function(t){return{products:t}},clearBasket:function(){}}),j=[{title:"HTML",description:"Lorem ipsum dolor sit amet.",price:20,id:"1",image:"https://source.unsplash.com/random"},{title:"CSS",description:"Lorem ipsum dolor sit amet.",price:30,id:"2",image:"https://source.unsplash.com/random"},{title:"REDUX",description:"Lorem ipsum dolor sit amet.",price:40,id:"3",image:"https://source.unsplash.com/random"},{title:"REDUX-THUNK",description:"Lorem ipsum dolor sit amet.",price:50,id:"4",image:"https://source.unsplash.com/random"},{title:"REACT",description:"Lorem ipsum dolor sit amet.",price:100,id:"5",image:"https://source.unsplash.com/random"},{title:"ROUTER",description:"Lorem ipsum dolor sit amet.",price:200,id:"6",image:"https://source.unsplash.com/random"}],y=function(){return new Promise((function(t){setTimeout((function(){return t(j)}),1e3)}))},k=function(t){return new Promise((function(e){setTimeout((function(){return console.log(t),e("Order accepted!, look in \u0441onsole")}),2e3)}))},h=Object(E.a)((a={},Object(p.a)(a,"".concat(v.addToBasket),(function(t,e){var n=e.payload.product;if(t.products.every((function(t){return t.id!==n.id}))){var a=Object(b.a)({},n,{quantity:1});return Object(b.a)({},t,{products:[].concat(Object(f.a)(t.products),[a])})}var r=t.products.map((function(t){return t.id===n.id?Object(b.a)({},t,{quantity:t.quantity?t.quantity+1:2}):t}));return Object(b.a)({},t,{products:r})})),Object(p.a)(a,"".concat(v.totalPrice),(function(t){var e=t.products.reduce((function(t,e){return t+e.price*e.quantity}),null);return Object(b.a)({},t,{total:e})})),Object(p.a)(a,"".concat(v.downQuantityInBasket),(function(t,e){var n=e.payload;return Object(b.a)({},t,{products:t.products.map((function(t){return t.id===n&&t.quantity>0?Object(b.a)({},t,{quantity:t.quantity-=1}):t})).filter((function(t){return t.quantity>0}))})})),Object(p.a)(a,"".concat(v.upQuantityInBasket),(function(t,e){var n=e.payload,a=t.products.map((function(t){return t.id===n&&t.quantity>0?Object(b.a)({},t,{quantity:t.quantity+=1}):t})).filter((function(t){return t.quantity>0}));return Object(b.a)({},t,{products:a})})),Object(p.a)(a,"".concat(v.setArrProductsToBasket),(function(t,e){var n=e.payload.products;return Object(b.a)({},t,{},n)})),Object(p.a)(a,"".concat(v.clearBasket),(function(t){return Object(b.a)({},t,{products:[],total:null})})),a),{products:[],total:null}),g=Object(E.a)(Object(p.a)({},v.setProducts.toString(),(function(t,e){return e.payload})),[]),S=g,B=n(137),P=n(135),q=Object(l.c)({mainState:S,basketState:h,form:P.a}),N=Object(l.d)(q,Object(l.a)(B.a));window.store=N;n(121);var T=n(10),x=n(47),w=n(301),C=n(302),A=n(303),I=n(314),R=n(304),L=n(305),Q=n(306),F=n(142),H=n.n(F),_=Object(w.a)((function(t){return{root:{display:"flex",alignContent:"flex-end"},menuButton:{marginRight:t.spacing(1)}}})),D=function(){var t=_(),e=Object(u.d)((function(t){return t.basketState.total}));return c.a.createElement(C.a,{position:"static"},c.a.createElement(A.a,null,c.a.createElement(I.a,{mr:3},c.a.createElement(x.b,{to:"/"},c.a.createElement(R.a,{color:"inherit",variant:"outlined",className:t.menuButton},"Main"))),c.a.createElement(I.a,{mr:3},c.a.createElement(x.b,{to:"/basket"},c.a.createElement(L.a,{edge:"end",color:"inherit"},c.a.createElement(H.a,{fontSize:"large"})))),e&&c.a.createElement(Q.a,{variant:"h6"},"Total : ",e,"$")))},J=n(80),M=n(145),U=function(t){var e=t.id,n=t.title,a=t.price,r=t.description,i=t.quantity,o=Object(J.a)(t,["id","title","price","description","quantity"]);return c.a.createElement(M.a,{className:"product-item"},c.a.createElement("span",null,n),c.a.createElement("span",null,a),c.a.createElement("span",null,r),c.a.createElement(R.a,{variant:"contained",color:"primary",onClick:function(){o.onClickRemoveProduct(e)}},"-"),c.a.createElement("span",null,i),c.a.createElement(R.a,{variant:"contained",color:"primary",onClick:function(){o.onClickAddProduct(e)}},"+"))},z=n(133),W=n(134),X=n(97),$=Object(W.a)({form:"userForm"})((function(t){return c.a.createElement("form",{onSubmit:t.handleSubmit},c.a.createElement("div",{className:"order_container"},c.a.createElement(z.a,{placeholder:"FIRST NAME",name:"firstName",component:"input",type:"text"}),c.a.createElement(z.a,{placeholder:"LAST NAME",name:"lastName",component:"input",type:"text"}),c.a.createElement(z.a,{placeholder:"ADDRESS",name:"address",component:"input",type:"text"}),c.a.createElement(z.a,{placeholder:"PHONE",name:"phone",component:"input",type:"text"}),c.a.createElement(R.a,{variant:"contained",color:"primary",type:"submit"},"Order")))})),K=function(){var t=Object(u.c)();return c.a.createElement("div",null,c.a.createElement($,{onSubmit:function(e){t(function(t){return function(){var e=Object(d.a)(m.a.mark((function e(n,a){var r,c,i;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,r=a().basketState.products,c=Object(b.a)({},t,{products:r}),e.next=5,k(c);case 5:i=e.sent,alert(i),n(v.clearBasket());case 8:return e.prev=8,e.finish(8);case 10:case"end":return e.stop()}}),e,null,[[0,,8,10]])})));return function(t,n){return e.apply(this,arguments)}}()}(e)),t(Object(X.a)("userForm"))}}))},G=function(){var t=Object(u.d)((function(t){return t.basketState})),e=t.products,n=t.total,a=Object(u.c)(),r=function(t){var n=e.find((function(e){return e.id===t}));a(v.downQuantityInBasket(n.id)),a(v.totalPrice())},i=function(t){var n=e.find((function(e){return e.id===t}));a(v.upQuantityInBasket(n.id)),a(v.totalPrice())},o=e.map((function(t){return c.a.createElement(U,{key:t.id,title:t.title,description:t.description,price:t.price,id:t.id,quantity:t.quantity,onClickRemoveProduct:r,onClickAddProduct:i})}));return c.a.createElement(M.a,null,c.a.createElement("div",{className:"basket_wrapper"},c.a.createElement("div",{className:"basket_container"},c.a.createElement("div",{className:"product_block"},c.a.createElement("div",{className:"product_container"},o)),c.a.createElement("div",{className:"orderForm"},c.a.createElement(K,null))),c.a.createElement(Q.a,null,"Total : ",n?n+"$":0)))},V=n(307),Y=n(308),Z=n(309),tt=n(310),et=n(311),nt=n(312),at=Object(w.a)({root:{minWidth:350},media:{height:170}}),rt=function(t){var e=t.title,n=t.description,a=t.price,r=t.image,i=Object(J.a)(t,["title","description","price","image"]),o=at();return c.a.createElement(V.a,{item:!0,xs:12,sm:6,md:4},c.a.createElement(Y.a,{className:o.root},c.a.createElement(Z.a,null,c.a.createElement(tt.a,{className:o.media,image:r,title:e}),c.a.createElement(et.a,null,c.a.createElement(Q.a,{gutterBottom:!0,variant:"h5",component:"h2"},a),c.a.createElement(Q.a,{variant:"body2",color:"textSecondary",component:"p"},n))),c.a.createElement(nt.a,null,c.a.createElement(R.a,{onClick:function(){i.onClickHandler(i.id)},size:"medium",color:"primary",variant:"contained"},"Buy"))))},ct=function(){var t=Object(u.d)((function(t){return t.mainState})),e=Object(u.c)();Object(r.useEffect)((function(){var t=function(){var t=Object(d.a)(m.a.mark((function t(e){var n;return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,y();case 3:n=t.sent,e(v.setProducts(n));case 5:return t.prev=5,t.finish(5);case 7:case"end":return t.stop()}}),t,null,[[0,,5,7]])})));return function(e){return t.apply(this,arguments)}}();e(t)}),[e]);var n=function(n){var a=t.find((function(t){return t.id===n}));e(v.addToBasket(Object(b.a)({},a,{quantity:1}))),e(v.totalPrice())};return c.a.createElement(V.a,{container:!0,spacing:6},t.map((function(t){return c.a.createElement(rt,{key:t.id,title:t.title,description:t.description,price:t.price,id:t.id,onClickHandler:n,image:t.image})})))},it=n(313),ot=n(104),ut=function(t){return t.basketState.products},lt=Object(ot.a)(ut,(function(t){return t.reduce((function(t,e){return t+e.price*e.quantity}),null)})),st=Object(ot.a)([ut,lt],(function(t,e){return Object(b.a)({},t,{total:e})})),mt=Object(w.a)((function(){return{mainPost:{paddingTop:50}}})),dt=function(){var t=mt(),e=Object(u.d)(st),n=Object(u.c)(),a=Object(r.useCallback)((function(){return function(t,e){var n=localStorage.getItem(t);return null!==n&&(e=JSON.parse(n)),e}("productToStorage",e)}),[e]);return Object(r.useEffect)((function(){n(v.setArrProductsToBasket(a))}),[n,a]),c.a.createElement(c.a.Fragment,null,c.a.createElement(D,null),c.a.createElement("main",null,c.a.createElement("div",{className:t.mainPost},c.a.createElement(it.a,{maxWidth:"lg"},c.a.createElement(T.c,null,c.a.createElement(T.a,{exact:!0,path:"/",render:function(){return c.a.createElement(ct,null)}}),c.a.createElement(T.a,{path:"/basket",render:function(){return c.a.createElement(G,null)}}))))))},pt=function(){var t=Object(u.d)((function(t){return t.basketState}));return Object(r.useEffect)((function(){!function(t,e){var n=JSON.stringify(e);localStorage.setItem(t,n)}("productToStorage",t)}),[t]),c.a.createElement(x.a,null,c.a.createElement(dt,null))};o.a.render(c.a.createElement(u.a,{store:N},c.a.createElement(pt,null)),document.getElementById("root"))}},[[177,1,2]]]);
//# sourceMappingURL=main.765d240c.chunk.js.map