(this["webpackJsonplampa-test"]=this["webpackJsonplampa-test"]||[]).push([[0],{120:function(t,e,n){},176:function(t,e,n){t.exports=n(287)},181:function(t,e,n){},287:function(t,e,n){"use strict";n.r(e);var a,r=n(0),c=n.n(r),i=n(36),o=n.n(i),u=(n(181),n(10)),l=n(13),s=n(52),m=n.n(s),d=n(73),p=n(28),f=n(142),E=n(21),b=n(315),O=n(314),v=Object(O.a)({setProducts:function(t){return t},totalPrice:function(){},addToBasket:function(t){return{product:t}},downQuantityInBasket:function(t){return t},upQuantityInBasket:function(t){return t},setArrProductsToBasket:function(t){return{products:t}},clearBasket:function(){}}),j=[{title:"HTML",description:"Lorem ipsum dolor sit amet.",price:20,id:"1",image:"https://source.unsplash.com/random"},{title:"CSS",description:"Lorem ipsum dolor sit amet.",price:30,id:"2",image:"https://source.unsplash.com/random"},{title:"REDUX",description:"Lorem ipsum dolor sit amet.",price:40,id:"3",image:"https://source.unsplash.com/random"},{title:"REDUX-THUNK",description:"Lorem ipsum dolor sit amet.",price:50,id:"4",image:"https://source.unsplash.com/random"},{title:"REACT",description:"Lorem ipsum dolor sit amet.",price:100,id:"5",image:"https://source.unsplash.com/random"},{title:"ROUTER",description:"Lorem ipsum dolor sit amet.",price:200,id:"6",image:"https://source.unsplash.com/random"}],y=function(){return new Promise((function(t){setTimeout((function(){return t(j)}),1e3)}))},k=function(t){return new Promise((function(e){setTimeout((function(){return console.log(t),e("Order accepted!, look in \u0441onsole")}),2e3)}))},h=Object(b.a)((a={},Object(p.a)(a,"".concat(v.addToBasket),(function(t,e){var n=e.payload.product;if(t.products.every((function(t){return t.id!==n.id}))){var a=Object(E.a)({},n,{quantity:1});return Object(E.a)({},t,{products:[].concat(Object(f.a)(t.products),[a])})}var r=t.products.map((function(t){return t.id===n.id?Object(E.a)({},t,{quantity:t.quantity?t.quantity+1:2}):t}));return Object(E.a)({},t,{products:r})})),Object(p.a)(a,"".concat(v.totalPrice),(function(t){var e=t.products.reduce((function(t,e){return t+e.price*e.quantity}),null);return Object(E.a)({},t,{total:e})})),Object(p.a)(a,"".concat(v.downQuantityInBasket),(function(t,e){var n=e.payload;return Object(E.a)({},t,{products:t.products.map((function(t){return t.id===n&&t.quantity>0?Object(E.a)({},t,{quantity:t.quantity-=1}):t})).filter((function(t){return t.quantity>0}))})})),Object(p.a)(a,"".concat(v.upQuantityInBasket),(function(t,e){var n=e.payload,a=t.products.map((function(t){return t.id===n&&t.quantity>0?Object(E.a)({},t,{quantity:t.quantity+=1}):t})).filter((function(t){return t.quantity>0}));return Object(E.a)({},t,{products:a})})),Object(p.a)(a,"".concat(v.setArrProductsToBasket),(function(t,e){var n=e.payload.products;return Object(E.a)({},t,{},n)})),Object(p.a)(a,"".concat(v.clearBasket),(function(t){return Object(E.a)({},t,{products:[],total:null})})),a),{products:[],total:null}),g=Object(b.a)(Object(p.a)({},v.setProducts.toString(),(function(t,e){return e.payload})),[]),S=g,B=n(136),P=n(134),N=Object(l.c)({mainState:S,basketState:h,form:P.a}),T=Object(l.d)(N,Object(l.a)(B.a));window.store=T;n(120);var q=n(11),x=n(47),w=n(300),C=n(301),A=n(302),I=n(313),R=n(303),L=n(304),Q=n(305),F=n(141),H=n.n(F),_=Object(w.a)((function(t){return{root:{display:"flex",alignContent:"flex-end"},menuButton:{marginRight:t.spacing(1)}}})),D=function(){var t=_(),e=Object(u.d)((function(t){return t.basketState.total}));return c.a.createElement(C.a,{position:"static"},c.a.createElement(A.a,null,c.a.createElement(I.a,{mr:3},c.a.createElement(x.b,{to:"/"},c.a.createElement(R.a,{color:"inherit",variant:"outlined",className:t.menuButton},"Main"))),c.a.createElement(I.a,{mr:3},c.a.createElement(x.b,{to:"/basket"},c.a.createElement(L.a,{edge:"end",color:"inherit"},c.a.createElement(H.a,{fontSize:"large"})))),e&&c.a.createElement(Q.a,{variant:"h6"},"Total : ",e,"$")))},J=n(80),M=n(144),U=function(t){var e=t.id,n=t.title,a=t.price,r=t.description,i=t.quantity,o=Object(J.a)(t,["id","title","price","description","quantity"]);return c.a.createElement(M.a,{className:"product-item"},c.a.createElement("span",null,n),c.a.createElement("span",null,a),c.a.createElement("span",null,r),c.a.createElement(R.a,{variant:"contained",color:"primary",onClick:function(){o.onClickRemoveProduct(e)}},"-"),c.a.createElement("span",null,i),c.a.createElement(R.a,{variant:"contained",color:"primary",onClick:function(){o.onClickAddProduct(e)}},"+"))},z=n(132),W=n(133),X=n(97),$=Object(W.a)({form:"userForm"})((function(t){return c.a.createElement("form",{onSubmit:t.handleSubmit},c.a.createElement("div",{className:"order_container"},c.a.createElement(z.a,{placeholder:"FIRST NAME",name:"firstName",component:"input",type:"text"}),c.a.createElement(z.a,{placeholder:"LAST NAME",name:"lastName",component:"input",type:"text"}),c.a.createElement(z.a,{placeholder:"ADDRESS",name:"address",component:"input",type:"text"}),c.a.createElement(z.a,{placeholder:"PHONE",name:"phone",component:"input",type:"text"}),c.a.createElement(R.a,{variant:"contained",color:"primary",type:"submit"},"Order")))})),K=function(){var t=Object(u.d)((function(t){return t.basketState.products})),e=Object(u.c)();return c.a.createElement("div",null,c.a.createElement($,{onSubmit:function(n){e(function(t,e){return function(){var n=Object(d.a)(m.a.mark((function n(a){var r,c;return m.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,r=Object(E.a)({},t,{products:e}),n.next=4,k(r);case 4:c=n.sent,alert(c),a(v.clearBasket());case 7:return n.prev=7,n.finish(7);case 9:case"end":return n.stop()}}),n,null,[[0,,7,9]])})));return function(t){return n.apply(this,arguments)}}()}(n,t)),e(Object(X.a)("userForm"))}}))},G=function(){var t=Object(u.d)((function(t){return t.basketState})),e=t.products,n=t.total,a=Object(u.c)(),r=function(t){var n=e.find((function(e){return e.id===t}));a(v.downQuantityInBasket(n.id)),a(v.totalPrice())},i=function(t){var n=e.find((function(e){return e.id===t}));a(v.upQuantityInBasket(n.id)),a(v.totalPrice())},o=e.map((function(t){return c.a.createElement(U,{key:t.id,title:t.title,description:t.description,price:t.price,id:t.id,quantity:t.quantity,onClickRemoveProduct:r,onClickAddProduct:i})}));return c.a.createElement(M.a,null,c.a.createElement("div",{className:"basket_wrapper"},c.a.createElement("div",{className:"basket_container"},c.a.createElement("div",{className:"product_block"},c.a.createElement("div",{className:"product_container"},o)),c.a.createElement("div",{className:"orderForm"},c.a.createElement(K,null))),c.a.createElement(Q.a,null,"Total : ",n&&n+"$")))},V=n(306),Y=n(307),Z=n(308),tt=n(309),et=n(310),nt=n(311),at=Object(w.a)({root:{minWidth:350},media:{height:170}}),rt=function(t){var e=t.title,n=t.description,a=t.price,r=t.image,i=Object(J.a)(t,["title","description","price","image"]),o=at();return c.a.createElement(V.a,{item:!0,xs:12,sm:6,md:4},c.a.createElement(Y.a,{className:o.root},c.a.createElement(Z.a,null,c.a.createElement(tt.a,{className:o.media,image:r,title:e}),c.a.createElement(et.a,null,c.a.createElement(Q.a,{gutterBottom:!0,variant:"h5",component:"h2"},a),c.a.createElement(Q.a,{variant:"body2",color:"textSecondary",component:"p"},n))),c.a.createElement(nt.a,null,c.a.createElement(R.a,{onClick:function(){i.onClickHandler(i.id)},size:"medium",color:"primary",variant:"contained"},"Buy"))))},ct=function(){var t=Object(u.d)((function(t){return t.mainState})),e=Object(u.c)();Object(r.useEffect)((function(){var t=function(){var t=Object(d.a)(m.a.mark((function t(e){var n;return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,y();case 3:n=t.sent,e(v.setProducts(n));case 5:return t.prev=5,t.finish(5);case 7:case"end":return t.stop()}}),t,null,[[0,,5,7]])})));return function(e){return t.apply(this,arguments)}}();e(t)}),[e]);var n=function(n){var a=t.find((function(t){return t.id===n}));e(v.addToBasket(Object(E.a)({},a,{quantity:1}))),e(v.totalPrice())};return c.a.createElement(V.a,{container:!0,spacing:6},t.map((function(t){return c.a.createElement(rt,{key:t.id,title:t.title,description:t.description,price:t.price,id:t.id,onClickHandler:n,image:t.image})})))},it=n(312),ot=Object(w.a)((function(){return{mainPost:{paddingTop:50}}})),ut=function(){var t=ot(),e=Object(u.d)((function(t){return t.basketState})),n=e.products,a=e.total,i=Object(u.c)();return Object(r.useEffect)((function(){var t=function(t,e){var n=localStorage.getItem(t);return null!==n&&(e=JSON.parse(n)),e}("productToStorage",{products:n,total:a});i(v.setArrProductsToBasket(t))}),[i]),c.a.createElement(c.a.Fragment,null,c.a.createElement(D,null),c.a.createElement("main",null,c.a.createElement(M.a,{className:t.mainPost},c.a.createElement(it.a,{maxWidth:"lg"},c.a.createElement(q.c,null,c.a.createElement(q.a,{path:"/basket"},c.a.createElement(G,null)),c.a.createElement(q.a,{exact:!0,path:"/"},c.a.createElement(ct,null)))))))},lt=function(){var t=Object(u.d)((function(t){return t.basketState}));return Object(r.useEffect)((function(){!function(t,e){var n=JSON.stringify(e);localStorage.setItem(t,n)}("productToStorage",t)}),[t]),c.a.createElement(x.a,null,c.a.createElement(ut,null))};o.a.render(c.a.createElement(u.a,{store:T},c.a.createElement(lt,null)),document.getElementById("root"))}},[[176,1,2]]]);
//# sourceMappingURL=main.1a5f26f1.chunk.js.map